{
  "active": true,
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "S3": {
      "main": [
        [
          {
            "node": "S31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Get": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Delete": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "When chat message received",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request2": {
      "main": [
        [
          {
            "node": "Supabase1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request3": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Supabase1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Get1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Delete1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "HTTP Request2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive1": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking â€˜Test workflowâ€™": {
      "main": [
        []
      ]
    },
    "Google Drive": {
      "main": [
        [
          {
            "node": "Google Drive2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive2": {
      "main": [
        [
          {
            "node": "HTTP Request4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request4": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "Google Drive3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive3": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "Google Drive4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive4": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        []
      ]
    },
    "HTTP Request5": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Google Drive7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive7": {
      "main": [
        [
          {
            "node": "Google Drive8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive8": {
      "main": [
        [
          {
            "node": "HTTP Request6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request6": {
      "main": [
        [
          {
            "node": "OpenAI1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI1": {
      "main": [
        [
          {
            "node": "Convert to File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File1": {
      "main": [
        [
          {
            "node": "S32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "S32": {
      "main": [
        [
          {
            "node": "HTTP Request5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-08T22:30:43.583Z",
  "id": "m4lvKLn169w6FS9f",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Nosta Legal - Test",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hi there! ðŸ‘‹\nHow can I assist you today?",
        "options": {
          "allowFileUploads": true,
          "loadPreviousSession": "memory",
          "subtitle": "",
          "title": "Welcome to Nosta!",
          "customCss": ":root {\n  /* Brand Colors (Nosta) */\n  --chat--color-primary: #009EE3; /* Nosta Azureâ€‘blue */\n  --chat--color-primary-shade-50: #007bb8;\n  --chat--color-primary-shade-100: #005d8f;\n  --chat--color-secondary: #582DC6; /* Nosta Violet accent */\n  --chat--color-secondary-shade-50: #461fa1;\n  --chat--color-secondary-shade-100: #36197a;\n  --chat--color-white: #FFFFFF;\n  --chat--color-light: #E4E4E4; /* light grey surfaces & borders */\n  --chat--color-light-shade-50: #d1d1d1;\n  --chat--color-light-shade-100: #bdbdbd;\n  --chat--color-medium: #B5BCC9;\n  --chat--color-dark: #000000; /* solid black text */\n  --chat--color-disabled: #9FA6B2;\n  --chat--color-typing: #555555;\n  --chat--header-height: 4rem;\n\n  /* Layout & Fonts */\n  --chat--spacing: 1rem;\n  --chat--border-radius: 0.5rem;\n  --chat--font-family: 'Roboto', system-ui, sans-serif;\n  --chat--heading-font-family: 'Poppins', system-ui, sans-serif;\n\n  /* Window */\n  --chat--window--width: 420px;\n  --chat--window--height: 600px;\n  --chat--window--z-index: 9999;\n  --chat--window--border: 1px solid var(--chat--color-light-shade-100);\n  --chat--window--border-radius: var(--chat--border-radius);\n\n  /* Header */\n  --chat--header--padding: 0.75rem;                    /* 50% less height */\n  --chat--header--background: var(--chat--color-primary-shade-100); /* deeper blue */\n  --chat--header--color: var(--chat--color-white);\n  --chat--heading--font-size: 1.8em;\n  --chat--subtitle--font-size: 1rem;\n  --chat--subtitle--line-height: 1.5;\n\n  /* Messages */\n  --chat--message--font-size: 1rem;\n  --chat--message--padding: 0.8rem 1rem;\n  --chat--message--border-radius: var(--chat--border-radius);\n  --chat--message--margin-bottom: 0.35rem; /* less spacing */\n  --chat--message-line-height: 1.6;\n  --chat--message--bot--background: #97979738;\n  --chat--message--bot--color: var(--chat--color-dark);\n  --chat--message--user--background: var(--chat--color-primary);\n  --chat--message--user--color: var(--chat--color-white);\n  --chat--message--pre--background: #e8ecf1;\n\n  /* Input */\n  --chat--textarea--height: 52px;\n  --chat--input--background: var(--chat--color-white);\n  --chat--input--text-color: var(--chat--color-dark);\n  --chat--input--padding: 0.75rem 1rem;\n  --chat--input--border: 1px solid var(--chat--color-light-shade-50);\n  --chat--input--border-radius: var(--chat--border-radius);\n\n  /* Buttons */\n  --chat--button--background: var(--chat--color-secondary);\n  --chat--button--color: var(--chat--color-white);\n  --chat--button--hover--background: var(--chat--color-secondary-shade-50);\n  --chat--button--hover--color: var(--chat--color-white);\n  --chat--button--padding: 0.5rem 1.2rem;\n  --chat--button--border-radius: var(--chat--border-radius);\n\n  /* Footer */\n  --chat--body--background: var(--chat--color-light);\n  --chat--footer--background: var(--chat--color-white);\n  --chat--footer--color: var(--chat--color-dark);\n}\n\n/* Structure */\nbody {\n  margin: 0;\n  font-family: var(--chat--font-family);\n  background: var(--chat--body--background);\n}\n\n.chat-window {\n  width: var(--chat--window--width);\n  height: var(--chat--window--height);\n  margin: 2rem auto;\n  border: var(--chat--window--border);\n  border-radius: var(--chat--window--border-radius);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n}\n\n.chat-layout .chat-header {\n    background-repeat: no-repeat;\n    background-size: contain;\n    background-position: right center;\n    background-image: url(https://www.nosta.com/wp-content/themes/kd-theme/resources/img/nosta.jpg);\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    gap: 1em;\n    height: var(--chat--header-height);\n    padding: var(--chat--header--padding);\n    background-color: var(--chat--header--background);\n    color: var(--chat--header--color);\n    border-top: var(--chat--header--border-top);\n    border-bottom: var(--chat--header--border-bottom);\n    border-left: var(--chat--header--border-left);\n    border-right: var(--chat--header--border-right);\n}\n\n.chat-logo {\n  height: 40px;\n  width: auto;\n}\n\n.chat-header-text h1 {\n  margin: 0;\n  font-family: var(--chat--heading-font-family);\n  font-weight: 600;\n  font-size: var(--chat--heading--font-size);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.chat-header-text p {\n  margin: 0.25rem 0 0;\n  font-size: var(--chat--subtitle--font-size);\n  line-height: var(--chat--subtitle--line-height);\n}\n\n/* Chat body */\n.chat-body {\n  flex: 1;\n  padding: var(--chat--spacing);\n  background: var(--chat--body--background);\n  overflow-y: auto;\n}\n\n.chat-message {\n  padding: var(--chat--message--padding);\n  margin-bottom: var(--chat--message--margin-bottom);\n  border-radius: var(--chat--message--border-radius);\n  font-size: var(--chat--message--font-size);\n  line-height: var(--chat--message-line-height);\n  max-width: 80%;\n  box-shadow: 0px 5px 9px 3px rgb(0 0 0 / 12%);\n  width: fit-content;\n}\n\n.chat-message.bot {\n  background: var(--chat--message--bot--background);\n  color: var(--chat--message--bot--color);\n  border-left: 3px solid var(--chat--color-primary);\n}\n\n.chat-message.user {\n  background: var(--chat--message--user--background);\n  color: var(--chat--message--user--color);\n  border-left: 3px solid var(--chat--color-secondary);\n  margin-left: auto;\n}\n\n/* Footer */\n.chat-footer {\n  background: var(--chat--footer--background);\n  padding: 0.5rem 1rem;\n  border-top: 1px solid var(--chat--color-light-shade-100);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.chat-footer textarea {\n  flex-grow: 1;\n  resize: none;\n  padding: var(--chat--input--padding);\n  height: var(--chat--textarea--height);\n  border: var(--chat--input--border);\n  border-radius: var(--chat--input--border-radius);\n  font-family: var(--chat--font-family);\n  font-size: 1rem;\n  color: var(--chat--input--text-color);\n  background: var(--chat--input--background);\n}\n\n.chat-send-button {\n  background: var(--chat--button--background);\n  color: var(--chat--button--color);\n  border: none;\n  padding: var(--chat--button--padding);\n  border-radius: var(--chat--button--border-radius);\n  font-size: 1.25rem;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.chat-send-button:hover {\n  background: var(--chat--button--hover--background);\n}\n\nimg {\n    width: -webkit-fill-available;\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -780,
        60
      ],
      "id": "3a8dd1a4-36bd-42d3-80a9-c3a1faeec1ba",
      "name": "When chat message received",
      "webhookId": "c9ec7097-c0e1-4336-a7dc-68a4241e4e9e"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "463448a5-b323-4682-8674-24bee0df163b",
              "leftValue": "={{ $json.files }}",
              "rightValue": "",
              "operator": {
                "type": "array",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -164,
        60
      ],
      "id": "2510ab32-ad0e-41b4-8af8-ea7511d1859e",
      "name": "If"
    },
    {
      "parameters": {
        "fieldToSplitOut": "$binary",
        "options": {
          "destinationFieldName": "data",
          "includeBinary": true
        }
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        56,
        -15
      ],
      "id": "ae19b84d-18d3-4e1f-b562-4793b6701277",
      "name": "Split Out"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://universal-file-to-text-extractor.vercel.app/extract",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "mode",
              "value": "single"
            },
            {
              "name": "output_type",
              "value": "jsonl"
            },
            {
              "name": "include_images",
              "value": "false"
            },
            {
              "parameterType": "formBinaryData",
              "name": "files",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        496,
        -15
      ],
      "id": "3d3a2847-820b-48eb-aa29-017780b70209",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "operation": "upload",
        "bucketName": "temp",
        "fileName": "abc",
        "binaryData": false,
        "fileContent": "={{ $json.data[0] }}",
        "additionalFields": {
          "acl": "private",
          "grantFullControl": false,
          "grantRead": false,
          "parentFolderKey": "try"
        }
      },
      "type": "n8n-nodes-base.s3",
      "typeVersion": 1,
      "position": [
        -540,
        -300
      ],
      "id": "91b6036a-b598-4f76-99f8-dc1014b03b9c",
      "name": "S3",
      "credentials": {
        "s3": {
          "id": "R5bk1tDKWKBON865",
          "name": "S3 account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('When chat message received').item.json.chatInput }}",
        "options": {
          "systemMessage": "=You are a Legal AI Agent working for the company \"nosta\", a German manufacturer of precision-milled parts. Your responsibility is to carefully analyze uploaded legal documents (e.g., contracts, NDAs, quality agreements) and verify them against the internal legal and business requirements of nosta.\n\n## All review criteria must be strictly based on the provided Legal AI Agent document (nosta policy guide). The agent must verify uploaded contracts against these specific instructions 1:1.\n\nAlways follow the steps and instructions below. Use only the tools provided.\n\n---\n\nðŸ”§ Tool Usage Instructions\n\n- Document Access:  \n  Always use the `Supabase Get` tool to retrieve uploaded legal documents for analysis.\n\n- Document Deletion:  \n  If the user requests deletion of a document (single or all), use the `Supabase Delete` tool with the appropriate file reference(s).\n\n---\n\nðŸ“Œ Step 1: Recognize Contract Type & Involved Parties\n\nClassify and summarize basic metadata:\n- Identify contract type: Framework Agreement, NDA, Quality Agreement (QAA), Logistics Agreement, Pricing Agreement, Tooling Agreement, etc.\n- Identify all parties: customer, supplier, subsidiaries.\n- Note contract term, renewal rules, and termination clauses.\n- Mention annexes, technical references, or external documents.\n\n---\n\nðŸ“Œ Step 2: General Legal Compliance Review\n\nReview these standard legal elements:\n- Jurisdiction:  \n  Prefer â€œAmtsgericht Dillingenâ€ or â€œHandelsgericht Augsburgâ€. If not possible, Swiss law is an acceptable alternative.\n\n- Confidentiality:  \n  Must comply with GHV Level 1â€“3:\n  - Level 1: Data can be shared with service providers.\n  - Level 2â€“3: Transfer may require customer approval.\n  Verify level and compliance.\n\n- Export Control / Sanctions:  \n  Must comply with EU Regulation 428/2009, EAR, and U.S. law. Flag any sanction-related language for review.\n\n- Compliance Clauses:  \n  Must include anti-corruption, CSR, and sustainability statements.\n\n- Data Protection:  \n  Must comply with GDPR. Pay attention to international data transfers.\n\n---\n\nðŸ“Œ Step 3: Nosta-Specific Policy Compliance\n\nEvaluate document content based on nostaâ€™s internal expectations:\n- The contract must allow project-specific flexibility.\n- Do not accept automatic obligations that harm nostaâ€™s interests.\n- Material approval steps and forecast freeze periods must be defined.\n- Excess/shortfall delivery clauses should be deleted or flagged.\n- Process changes must require coordination with nostaâ€™s production/purchasing teams.\n- Flexibility requirements must not bypass internal process limits.\n- Buyer must inspect incoming goods immediately and report issues.\n- Warranty clauses under the German BGB must be reviewed or rejected.\n- Nosta must retain the right to choose how to address defects (repair/replace).\n- Product recall, liability, and insurance obligations must be stated clearly.\n- Spare part pricing policies must be included.\n- Customer audit access must be limited to clearly defined areas.\n\n---\n\nðŸ“Œ Step 4: Rate Risk Levels (Traffic Light System)\n\nApply a color-coded risk level for each clause:\n\n- ðŸ”´ Critical  \n  Clause is harmful to nosta, unclear, or unacceptable. Requires revision or removal.\n\n- ðŸŸ¡ Medium  \n  Clause may be acceptable but has risk. Should be clarified or negotiated.\n\n- ðŸŸ¢ Green  \n  Clause complies with nostaâ€™s internal and legal standards.\n\nâœ… For each ðŸ”´ or ðŸŸ¡ clause, propose a better alternative or revision.\n\n---\n\nðŸ“Œ Step 5: Answer User Questions Clearly\n\nWhen a user asks a question about the contract (e.g., \"Is the liability clause okay?\"):\n1. Use Supabase Get to retrieve the uploaded document.\n2. Locate the clause that matches the question.\n3. Compare it against nostaâ€™s policies (above).\n4. Respond with:\n   - A quote of the relevant clause.\n   - Risk level (ðŸ”´, ðŸŸ¡, ðŸŸ¢).\n   - A short legal/business justification.\n   - A suggestion for improvement (if needed).\n\n---\n\nðŸ§­ Final Guidelines\n\n- Respond in a professional, structured, and legally sound tone.\n- Avoid making assumptions not grounded in the document or nosta's policy.\n- Be concise, actionable, and confident in your recommendations.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1240,
        -40
      ],
      "id": "fe044891-ce52-48c4-b0d6-b3c06dccaa4f",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1156,
        180
      ],
      "id": "b5106bb1-d278-4fb0-bddc-4efbbc9686ba",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "jpK6UkKnpLM9LJPk",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        1276,
        180
      ],
      "id": "39984f3d-eab2-4e19-96c0-adb8840ef208",
      "name": "HTTP Request1",
      "disabled": true
    },
    {
      "parameters": {
        "bucketName": "temp",
        "fileKey": "abc"
      },
      "type": "n8n-nodes-base.s3",
      "typeVersion": 1,
      "position": [
        -320,
        -300
      ],
      "id": "068a1ae8-86fe-4851-a5e2-4f6338c9e3b0",
      "name": "S31",
      "credentials": {
        "s3": {
          "id": "R5bk1tDKWKBON865",
          "name": "S3 account"
        }
      }
    },
    {
      "parameters": {
        "tableId": "temp_table",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "session_id",
              "fieldValue": "={{ $('When chat message received').item.json.sessionId }}"
            },
            {
              "fieldId": "file",
              "fieldValue": "={{ $json.data[0].parseJson().blocks }}"
            },
            {
              "fieldId": "file_name",
              "fieldValue": "={{ $json.data[0].parseJson().source }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        716,
        -15
      ],
      "id": "15b07fce-ae40-4ba8-bb35-00830a68ee5c",
      "name": "Supabase",
      "credentials": {
        "supabaseApi": {
          "id": "IOh0LUl8h2DbmqBS",
          "name": "Supabase Ayan"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        936,
        60
      ],
      "id": "0fd2df4c-78c9-4681-b8cf-931be4b8d03c",
      "name": "Merge"
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "temp_table",
        "filters": {
          "conditions": [
            {
              "keyName": "session_id",
              "condition": "eq",
              "keyValue": "={{ $('When chat message received').item.json.sessionId }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        1396,
        180
      ],
      "id": "3cdf7b12-1c23-4cf7-a3f4-b17587c8620b",
      "name": "Supabase Get",
      "credentials": {
        "supabaseApi": {
          "id": "IOh0LUl8h2DbmqBS",
          "name": "Supabase Ayan"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "tableId": "temp_table",
        "filters": {
          "conditions": [
            {
              "keyName": "session_id",
              "condition": "eq",
              "keyValue": "={{ $('When chat message received').item.json.sessionId }}"
            },
            {
              "keyName": "file_name",
              "condition": "eq",
              "keyValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('conditions1_Field_Value', `Provide the file name to delete`, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        1516,
        180
      ],
      "id": "e04ebdf5-7eec-4fd8-b051-0082b7fe5323",
      "name": "Supabase Delete",
      "credentials": {
        "supabaseApi": {
          "id": "IOh0LUl8h2DbmqBS",
          "name": "Supabase Ayan"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return items.map(item => {\n  const binaryKeys = Object.keys(item.binary || {});\n  const firstKey = binaryKeys[0];\n\n  if (!firstKey) {\n    return item;\n  }\n\n  return {\n    json: item.json,\n    binary: {\n      data: item.binary[firstKey]\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        276,
        -15
      ],
      "id": "cdad2759-de52-41a3-b03f-0dd4ba795124",
      "name": "Code"
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -520,
        280
      ],
      "id": "e2ba34c7-408f-4700-b301-eb3a86e83835",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "463448a5-b323-4682-8674-24bee0df163b",
              "leftValue": "={{ $json.files }}",
              "rightValue": "",
              "operator": {
                "type": "array",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -220,
        560
      ],
      "id": "d4f54697-74dd-4d94-9c6c-0c278aa3b525",
      "name": "If1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "$binary",
        "options": {
          "destinationFieldName": "data",
          "includeBinary": true
        }
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        0,
        480
      ],
      "id": "bc8162b0-ff45-4d7c-aee5-2577b4dd33c0",
      "name": "Split Out1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://universal-file-to-text-extractor.vercel.app/extract",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "mode",
              "value": "single"
            },
            {
              "name": "output_type",
              "value": "jsonl"
            },
            {
              "name": "include_images",
              "value": "false"
            },
            {
              "parameterType": "formBinaryData",
              "name": "files",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        440,
        480
      ],
      "id": "50cb5444-bc59-48fe-9cdf-fcc5a2de8f9b",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('When chat message received').item.json.chatInput }}",
        "options": {
          "systemMessage": "=You are a Legal AI Agent working for the company \"nosta\", a German manufacturer of precision-milled parts. Your responsibility is to carefully analyze uploaded legal documents (e.g., contracts, NDAs, quality agreements) and verify them against the internal legal and business requirements of nosta.\n\n## All review criteria must be strictly based on the provided Legal AI Agent document (nosta policy guide). The agent must verify uploaded contracts against these specific instructions 1:1.\n\nAlways follow the steps and instructions below. Use only the tools provided.\n\n---\n\nðŸ”§ Tool Usage Instructions\n\n- Document Access:  \n  Always use the `Supabase Get` tool to retrieve uploaded legal documents for analysis.\n\n- Document Deletion:  \n  If the user requests deletion of a document (single or all), use the `Supabase Delete` tool with the appropriate file reference(s).\n\n{{ $json.data }}\n\nðŸ§­ Final Guidelines\n\n- Respond in a professional, structured, and legally sound tone.\n- Avoid making assumptions not grounded in the document or nosta's policy.\n- Be concise, actionable, and confident in your recommendations.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1440,
        600
      ],
      "id": "dcd1645b-e1c6-4cd6-a778-d0d86121b99e",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1300,
        820
      ],
      "id": "1e234c90-6c0b-4963-9647-3aa72332a78b",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "jpK6UkKnpLM9LJPk",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        1420,
        820
      ],
      "id": "d3df1410-566d-46c9-a3d0-0adcdbd8b22a",
      "name": "HTTP Request3",
      "disabled": true
    },
    {
      "parameters": {
        "tableId": "temp_table",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "session_id",
              "fieldValue": "={{ $('When chat message received').item.json.sessionId }}"
            },
            {
              "fieldId": "file",
              "fieldValue": "={{ $json.data[0].parseJson().blocks }}"
            },
            {
              "fieldId": "file_name",
              "fieldValue": "={{ $json.data[0].parseJson().source }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        660,
        480
      ],
      "id": "ca44f79a-8f34-4f5f-b50f-8ae42520610b",
      "name": "Supabase1",
      "credentials": {
        "supabaseApi": {
          "id": "IOh0LUl8h2DbmqBS",
          "name": "Supabase Ayan"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        880,
        560
      ],
      "id": "e0d9916b-5ca3-4640-9dee-1050dbc7bca5",
      "name": "Merge1"
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "temp_table",
        "filters": {
          "conditions": [
            {
              "keyName": "session_id",
              "condition": "eq",
              "keyValue": "={{ $('When chat message received').item.json.sessionId }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        1540,
        820
      ],
      "id": "dd91ae97-af35-4f2d-b1e9-fff9eb228b98",
      "name": "Supabase Get1",
      "credentials": {
        "supabaseApi": {
          "id": "IOh0LUl8h2DbmqBS",
          "name": "Supabase Ayan"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "tableId": "temp_table",
        "filters": {
          "conditions": [
            {
              "keyName": "session_id",
              "condition": "eq",
              "keyValue": "={{ $('When chat message received').item.json.sessionId }}"
            },
            {
              "keyName": "file_name",
              "condition": "eq",
              "keyValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('conditions1_Field_Value', `Provide the file name to delete`, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        1660,
        820
      ],
      "id": "3b8f4dce-5c7a-4559-afe0-21162872220b",
      "name": "Supabase Delete1",
      "credentials": {
        "supabaseApi": {
          "id": "IOh0LUl8h2DbmqBS",
          "name": "Supabase Ayan"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return items.map(item => {\n  const binaryKeys = Object.keys(item.binary || {});\n  const firstKey = binaryKeys[0];\n\n  if (!firstKey) {\n    return item;\n  }\n\n  return {\n    json: item.json,\n    binary: {\n      data: item.binary[firstKey]\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        220,
        480
      ],
      "id": "8d4f79ca-1f1f-4fb6-8412-0a042438e6a0",
      "name": "Code1"
    },
    {
      "parameters": {
        "resource": "fileFolder",
        "queryString": "prompt",
        "filter": {
          "driveId": {
            "mode": "list",
            "value": "My Drive"
          },
          "folderId": {
            "__rl": true,
            "value": "1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU",
            "mode": "list",
            "cachedResultName": "Legal Prompt",
            "cachedResultUrl": "https://drive.google.com/drive/folders/1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU"
          }
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        660,
        2120
      ],
      "id": "edc1f3f6-2901-4330-873f-d9a5026c3dfd",
      "name": "Google Drive1",
      "alwaysOutputData": true,
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "3e42fe37-02d3-498d-ab0c-030cb6002e1c",
              "leftValue": "={{ $json.id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        820,
        2120
      ],
      "id": "b6fac03e-8bc2-49e8-b8b1-67c3d8049adf",
      "name": "If2"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -960,
        1320
      ],
      "id": "cbdb49cd-6eef-477a-bc8a-d40b5b69c36b",
      "name": "When clicking â€˜Test workflowâ€™"
    },
    {
      "parameters": {
        "resource": "fileFolder",
        "searchMethod": "query",
        "queryString": "not fullText contains 'prompt.txt'",
        "filter": {
          "driveId": {
            "mode": "list",
            "value": "My Drive"
          },
          "folderId": {
            "__rl": true,
            "value": "1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU",
            "mode": "list",
            "cachedResultName": "Legal Prompt",
            "cachedResultUrl": "https://drive.google.com/drive/folders/1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU"
          },
          "whatToSearch": "files"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        980,
        2200
      ],
      "id": "4ca87e21-ad77-4a11-bbcc-06bd6121e7d3",
      "name": "Google Drive",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        },
        "options": {
          "googleFileConversion": {
            "conversion": {
              "docsToFormat": "text/plain"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        1120,
        2200
      ],
      "id": "195961a7-9553-4713-8d07-aa1fb4df0094",
      "name": "Google Drive2",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://universal-file-to-text-extractor.vercel.app/extract",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "mode",
              "value": "single"
            },
            {
              "name": "output_type",
              "value": "text"
            },
            {
              "name": "include_images",
              "value": "false"
            },
            {
              "parameterType": "formBinaryData",
              "name": "files",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1300,
        2200
      ],
      "id": "76223fc4-0a1f-4614-b3ad-e88287575690",
      "name": "HTTP Request4"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "GPT-4.1-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "create a set of instruction from the user message. give output in english.\n\nhelp me write a good prompt for a Legal AI Agent Iâ€™m building in n8n for my company \"nosta\", a German manufacturer of precision-milled parts. The workflow is read,: the user uploads a legal document (like a contract or NDA) and asks questions. The AI should review the document and answer based on nosta's internal legal and business requirements. Iâ€™ve been told by the nosta legal team to use the attached guidance documents as the reference. The agent should check uploaded documents exactly 1:1 against this guidance.\n\nCan you write a clear and professional system prompt that tells the agent how to do this review properly? It should include:\n   * Identifying contract type and parties\n   *Checking legal compliance (jurisdiction, GDPR, export rules, CSR, etc.)\n   *Verifying nosta-specific clauses (like delivery, audits, warranties)\n   *Giving traffic light risk ratings \n   *Suggesting improvements for any risky or unclear clauses\n   *The agentâ€™s tone should be professional, structured, and aligned with compliance standards.",
              "role": "system"
            },
            {
              "content": "={{ $json.data[0].text }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1460,
        2200
      ],
      "id": "84747ca9-b056-4def-9c81-8569cb7671fe",
      "name": "OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "jpK6UkKnpLM9LJPk",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "message.content",
        "options": {
          "fileName": "prompt.txt"
        }
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        1740,
        2200
      ],
      "id": "4c99ba6a-47a2-44d7-9209-009a13afbb6a",
      "name": "Convert to File"
    },
    {
      "parameters": {
        "name": "prompt.txt",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU",
          "mode": "list",
          "cachedResultName": "Legal Prompt",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        1960,
        2200
      ],
      "id": "73237a98-6d6a-439e-85e2-3a2926bbbf0e",
      "name": "Google Drive3",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        },
        "options": {
          "googleFileConversion": {
            "conversion": {
              "docsToFormat": "text/plain"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        2620,
        2100
      ],
      "id": "e9215d70-bd40-4cd4-a11f-c4bc5c40eb77",
      "name": "Google Drive4",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3a50fb9a-1176-48eb-b430-d795ebca2ce2",
              "name": "id",
              "value": "={{ $('Google Drive3').item.json.id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2180,
        2200
      ],
      "id": "f57864d0-a33b-4670-8f39-f2b7e1283a08",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "74a6fd50-30cd-4814-b415-0e40f955432f",
              "name": "id",
              "value": "={{ $('Google Drive1').item.json.id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1860,
        2080
      ],
      "id": "fee60581-4c1f-4b6f-8530-410788e83de9",
      "name": "Edit Fields1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        2400,
        2100
      ],
      "id": "16c02358-8f17-4ad8-abf6-dbd6a39c2e9a",
      "name": "Merge2"
    },
    {
      "parameters": {
        "operation": "text",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1,
      "position": [
        2840,
        2100
      ],
      "id": "02c1fbf0-6c96-4f69-8158-37a0e1bd172e",
      "name": "Extract from File"
    },
    {
      "parameters": {
        "url": "https://nsebtjqnfydjgjtigsiq.supabase.co/storage/v1/object/public/prompt//prompt.txt",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -340,
        740
      ],
      "id": "965dded8-796a-49cc-a0f8-cac1a7dd1025",
      "name": "HTTP Request5",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "resource": "fileFolder",
        "searchMethod": "query",
        "queryString": "not fullText contains 'prompt.txt'",
        "filter": {
          "driveId": {
            "mode": "list",
            "value": "My Drive"
          },
          "folderId": {
            "__rl": true,
            "value": "1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU",
            "mode": "list",
            "cachedResultName": "Legal Prompt",
            "cachedResultUrl": "https://drive.google.com/drive/folders/1a5pasFQv0aSzWbzuWM20BHSdLyR7TgLU"
          },
          "whatToSearch": "files"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -80,
        960
      ],
      "id": "a92c7c71-fbcf-45ce-a91d-d7203054d001",
      "name": "Google Drive7",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        },
        "options": {
          "googleFileConversion": {
            "conversion": {
              "docsToFormat": "text/plain"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        140,
        960
      ],
      "id": "fa518dcc-2242-4d1c-aa54-0c95a73322f5",
      "name": "Google Drive8",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "GK4eEnpXUcuMg5Zb",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://universal-file-to-text-extractor.vercel.app/extract",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "mode",
              "value": "single"
            },
            {
              "name": "output_type",
              "value": "text"
            },
            {
              "name": "include_images",
              "value": "false"
            },
            {
              "parameterType": "formBinaryData",
              "name": "files",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        360,
        960
      ],
      "id": "21581c25-33c8-49f1-88af-c0c9c7af876b",
      "name": "HTTP Request6"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "GPT-4O"
        },
        "messages": {
          "values": [
            {
              "content": "=create a set of instruction from the user message. give output in english.\n\nhelp me write a good prompt for a Legal AI Agent Iâ€™m building in n8n for my company \"nosta\", a German manufacturer of precision-milled parts. The workflow is read,: the user uploads a legal document (like a contract or NDA) and asks questions. The AI should review the document and answer based on nosta's internal legal and business requirements. Iâ€™ve been told by the nosta legal team to use the attached guidance documents as the reference. The agent should check uploaded documents exactly 1:1 against this guidance.\n\nCan you write a clear and professional system prompt that tells the agent how to do this review properly? It should include:\n   * Identifying contract type and parties\n   *Checking legal compliance (jurisdiction, GDPR, export rules, CSR, etc.)\n   *Verifying nosta-specific clauses (like delivery, audits, warranties)\n   *Giving traffic light risk ratings \n   *Suggesting improvements for any risky or unclear clauses\n   *The agentâ€™s tone should be professional, structured, and aligned with compliance standards.",
              "role": "system"
            },
            {
              "content": "={{ $json.data[0].text }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        580,
        960
      ],
      "id": "431c777e-2582-4f35-8ff6-7b905be3777a",
      "name": "OpenAI1",
      "credentials": {
        "openAiApi": {
          "id": "jpK6UkKnpLM9LJPk",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "message.content",
        "options": {
          "fileName": "prompt.txt"
        }
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        960,
        960
      ],
      "id": "465ef18a-b0c2-4157-bda7-ea8f81fa043e",
      "name": "Convert to File1"
    },
    {
      "parameters": {
        "operation": "upload",
        "bucketName": "prompt",
        "fileName": "=",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.s3",
      "typeVersion": 1,
      "position": [
        1180,
        1040
      ],
      "id": "767d8458-6b52-48eb-8842-cfe157be2afd",
      "name": "S32",
      "credentials": {
        "s3": {
          "id": "R5bk1tDKWKBON865",
          "name": "S3 account"
        }
      }
    }
  ],
  "origin": "n8n",
  "pinData": {
    "HTTP Request4": [
      {
        "json": {
          "data": [
            {
              "id": "83519b69-186c-4d76-8f11-915fa7fce146",
              "source": "Legal KI Agent 14072025.docx",
              "text": "Legal KI Agent\n\nStufe 1: UnterstÃ¼tzung bei VertragsprÃ¼fung\n\nStufe 2: BefÃ¼llung der Vertragsunterlagen\n\nBeschreibung GeschÃ¤ftsmodell nosta:\n\nHersteller von PrÃ¤zisionsfrÃ¤steilen Standard und nach Zeichnung\n\nAmtsgericht Dillingen, Deutschland\nHandelsgericht Augsburg, Deutschland\n\nâ€¦\n\nGenerelle Rahmenbedingungen\n\nVom Speziellen zum Generellen â€“ das projektspezifische zÃ¤hlt in der Regel\n\nAlle FÃ¼r die Firma schÃ¤digende sowie zweifelhafte Anforderungen sind zu prÃ¼fen / Ã¤ndern\n\nMehr und Minderbedarfklauseln sind hervorzuheben â€“ empfehlung zu lÃ¶schen\n\nKlauseln zu Materialfreigaben in Bezug auf Bestellungen und Mehrbedarfe zu prÃ¼fen und kalkulieren\n\nProzessanpassungen durch Schwankungen sind mit der Produktion / Einkaufsprozesse von nosta abzustimmen und einhergehen, vorherige Anpassungen sind nicht mÃ¶glich und abzustellen\n\nFlexibilitÃ¤tsanforderungen: Nur mit Prfung un in Abstimmung mit nosta NICHT nach definierten Kundenanforderung in Bezug auf nosta prozess\n\nVerpflichtungen fÃ¼r Kunden zu sofortige und vorab Wareneingangskontrollen bei Annahme und sofortige Meldung bei QualitÃ¤tsmÃ¤ngel\n\nMÃ¤ngelansprÃ¼che Ã¼ber BGB nicht akzeptabel bzw zu prÃ¼fen\n\nNacherfÃ¼llung nach BGB freie Wahl fÃ¼r den Lieferant bzw. ist abzustimmen MIT VORHERIGER PrÃ¼fung der Schuldfrage.\n\nVersicherung der Deckungssumme ist zu prÃ¼fen sowie RÃ¼ckrufkostensumme zu prÃ¼fen.\n\nPreisklÃ¤rung fÃ¼r Ersatzteillieferungen sind zu vollziehen\n\nIm Falle von Audits sind Zutrittberechtigungen fÃ¼r spezielle Bereiche individuell zu klÃ¤ren\n\nIm Falle von AGBs, Einkaufsbedingungen, andere Verweise sind diese noch einmal zu prÃ¼fen\n\nStrukturierte Aufgaben- und PrÃ¼freihenfolge eines KI Legal Agenten (B2B Automotive | Zerspanung)\n\nVertragsart und Kontext erkennen\n\nKurzer EinleitungsprÃ¼fklausel/Grundregeln & Interesse nosta:\n\nKlassifizierung: Rahmenvertrag, Einzelvertrag, NDA, QualitÃ¤tssicherungsvereinbarung (QSV), Logistikvereinbarung, Preisvereinbarung, Tooling Agreement, etc.\n\nBeteiligte Parteien: Kunde, Lieferant, ggf. Tochtergesellschaften\n\nVertragslaufzeit & KÃ¼ndigungsregelungen\n\nVertragsstruktur (Anlagen, Verweise, technische ErgÃ¤nzungen)\n\nAllgemeine rechtliche GrundprÃ¼fung\n\nKurzer EinleitungsprÃ¼fklausel/Grundregeln & Interesse nosta:\n\nRechtssitz und Gerichtsstand\n\nGenerell Deutschland, bevorzugt Amtsgericht Dillingen, Handelsrecht Augsburg\n\nBei auslÃ¤ndischen GerichtsstÃ¤nden Kompromiss: Schweizer Recht\n\nGeltendes Recht (Rechtswahlklausel)\n\nSalvatorische Klausel\n\nGenerell akzeptiert bzw. zu prÃ¼fen\n\nVertraulichkeitsregelungen\n\nNach GHV Level:\n\nLevel 1: Freigabe fÃ¼r Weitergabe an Dienstleister\n\nLevel 2: â€¦\n\nLevel 3: Jeder Weitergabe von Daten muss vom Kunden freigegeben werden\n\nCompliance-Klauseln (z.â€¯B. Antikorruption, CSR, Nachhaltigkeit)\n\nZu prÃ¼fen und Details auszugeben\n\nExportkontrolle / SanktionsprÃ¼fung\n(z.â€¯B. EAR, EU-VO 428/2009, US-Bezug in VertrÃ¤gen)\n\nSanktionen sind generell zu vermeiden und zu prÃ¼fen\n\nAlle Arten von Saktionen sind kritisch\n\nHaftung & GewÃ¤hrleistung\n\nAlle Themen sind kritisch und zu prÃ¼fen\n\nJedes unklare Formulierung sind herauszuheben\n\nAlle Klauseln welche mÃ¶gliche Risiken / Haftung / GewÃ¤hrleistungen in Bezug auf AnsprÃ¼che in Bezug auf Betriebsknowhow / Geheimnisse / Leistungen / USPs / Internas / etc beziehen sind herauszuheben, zu prÃ¼fen und anzupassen!\n\nDatenschutz (DSGVO/International Transfer)\n\nVertragsspezifische PrÃ¼fkriterien (B2B Automotive, Zerspanung)\n\nKurzer EinleitungsprÃ¼fklausel/Grundregeln & Interesse nosta:\n\nGenerelle Vertragsbedingungen mÃ¼ssen aus risikobetrachtung in bezug auf verbindlichkeiten aus nosta-sicht durch Materialfreigaben und/oder Freeze-Period â€žunverÃ¤nderbare Vorschauzahlen / ZeitrÃ¤umeâ€œ sichergestellt werden.\n\nA. Liefer- & Leistungsbedingungen\n\nLieferverpflichtung (Make-to-Print / Make-to-Stock / Forecast-Verpflichtung)\n\nLieferfristen, Verzug, Vertragsstrafen (PÃ¶nalen)\n\nLieferabrufe, Rahmenbedarfe, FlexibilitÃ¤tsbÃ¤nder\n\nMindestabnahmemengen / Abnahmeverpflichtungen\n\nB. Preise und Zahlungsbedingungen\n\nPreisgleitklauseln (z.â€¯B. Material, Energie, Lohn)\n\nZahlungsziele, Skonti, FÃ¤lligkeiten\n\nWÃ¤hrungsrisiko / WÃ¤hrungsklausel\n\nFakturierungsmodalitÃ¤ten\n\nC. Werkzeuge / Vorrichtungen / Eigentumsvorbehalt\n\nEigentumsÃ¼bergang / Eigentum beim Kunden\n\nWartung, Instandhaltung, Ersatz\n\nVersicherungspflichten fÃ¼r kundeneigene Betriebsmittel\n\nRÃ¼ckgabepflicht bei Vertragsende\n\nD. QualitÃ¤tsanforderungen\n\nVerweis auf IATF 16949, VDA 6.3, PPAP, EMPB\n\nAuditrechte des Kunden\n\nMeldepflichten bei Abweichungen\n\nRÃ¼ckverfolgbarkeit\n\n0-Fehler-Ziel / ppm-Regelung\n\nAbweichungsregelung (z.â€¯B. Nacharbeit, Sortierung)\n\nE. Haftung und GewÃ¤hrleistung\n\nUmfang und Dauer der GewÃ¤hrleistung\n\nVerjÃ¤hrungsfristen\n\nProdukthaftung (inkl. RÃ¼ckrufkosten)\n\nBeschrÃ¤nkung der Haftung / Freistellung\n\nRegressansprÃ¼che (z.â€¯B. im Rahmen OEM-RÃ¼ckruf)\n\nF. Ã„nderungsmanagement\n\nÃ„nderungsantrÃ¤ge / Change Requests\n\nKosten- und Lieferzeitwirkungen\n\nMitwirkungspflichten des Kunden\n\nDokumentationspflichten\n\nG. Lieferunterbrechung / Force Majeure\n\nDefinition und Umfang hÃ¶herer Gewalt\n\nReaktionszeiten, Mitteilungspflichten\n\nRechte bei lÃ¤ngerem Ausfall\n\nH. Geistiges Eigentum / Zeichnungsrechte\n\nUmgang mit Kundenzeichnungen und -daten\n\nNutzungslizenzen / EinschrÃ¤nkungen\n\nGeheimhaltung technischer Dokumente\n\nIP-Rechte bei Neuentwicklungen\n\n4. ZusÃ¤tzliche kritische Punkte fÃ¼r Zerspanungsunternehmen\n\nToleranzangaben, Werkstoffverantwortung, PrÃ¼fpflicht\n\nVorserienlieferung vs. Serienproduktion\n\nAnlaufmanagement (Ramp-up, Run@Rate, etc.)\n\nOutsourcing oder Sub-Sub-Lieferanten: Genehmigungspflicht?\n\n5. Risikoanalyse & Ampelkennzeichnung\n\nDer KI-Agent vergibt eine Risikokategorie je Abschnitt:\n\nðŸ”´ Kritisch: Nicht marktÃ¼blich, hohe Haftung, unklare Regelung\n\nðŸŸ¡ Mittel: Nachverhandlung empfohlen\n\nðŸŸ¢ Unkritisch: Standard oder vorteilhaft\n\nZusÃ¤tzlich: VorschlÃ¤ge zur Anpassung/Verhandlung\n\n6. Ausgabeformate\n\nExecutive Summary: FÃ¼r GeschÃ¤ftsfÃ¼hrung mit AmpelÃ¼bersicht\n\nDetailanalyse: VollstÃ¤ndige KlauselprÃ¼fung mit Kommentaren\n\nRedline VorschlÃ¤ge: Markierter Vertrag mit KI-KorrekturvorschlÃ¤gen\n\nVerhandlungs-Checkliste: Ãœbersicht der zu diskutierenden Punkte"
            }
          ]
        }
      }
    ],
    "HTTP Request6": [
      {
        "json": {
          "data": [
            {
              "id": "83519b69-186c-4d76-8f11-915fa7fce146",
              "source": "Legal KI Agent 14072025.docx",
              "text": "Legal KI Agent\n\nStufe 1: UnterstÃ¼tzung bei VertragsprÃ¼fung\n\nStufe 2: BefÃ¼llung der Vertragsunterlagen\n\nBeschreibung GeschÃ¤ftsmodell nosta:\n\nHersteller von PrÃ¤zisionsfrÃ¤steilen Standard und nach Zeichnung\n\nAmtsgericht Dillingen, Deutschland\nHandelsgericht Augsburg, Deutschland\n\nâ€¦\n\nGenerelle Rahmenbedingungen\n\nVom Speziellen zum Generellen â€“ das projektspezifische zÃ¤hlt in der Regel\n\nAlle FÃ¼r die Firma schÃ¤digende sowie zweifelhafte Anforderungen sind zu prÃ¼fen / Ã¤ndern\n\nMehr und Minderbedarfklauseln sind hervorzuheben â€“ empfehlung zu lÃ¶schen\n\nKlauseln zu Materialfreigaben in Bezug auf Bestellungen und Mehrbedarfe zu prÃ¼fen und kalkulieren\n\nProzessanpassungen durch Schwankungen sind mit der Produktion / Einkaufsprozesse von nosta abzustimmen und einhergehen, vorherige Anpassungen sind nicht mÃ¶glich und abzustellen\n\nFlexibilitÃ¤tsanforderungen: Nur mit Prfung un in Abstimmung mit nosta NICHT nach definierten Kundenanforderung in Bezug auf nosta prozess\n\nVerpflichtungen fÃ¼r Kunden zu sofortige und vorab Wareneingangskontrollen bei Annahme und sofortige Meldung bei QualitÃ¤tsmÃ¤ngel\n\nMÃ¤ngelansprÃ¼che Ã¼ber BGB nicht akzeptabel bzw zu prÃ¼fen\n\nNacherfÃ¼llung nach BGB freie Wahl fÃ¼r den Lieferant bzw. ist abzustimmen MIT VORHERIGER PrÃ¼fung der Schuldfrage.\n\nVersicherung der Deckungssumme ist zu prÃ¼fen sowie RÃ¼ckrufkostensumme zu prÃ¼fen.\n\nPreisklÃ¤rung fÃ¼r Ersatzteillieferungen sind zu vollziehen\n\nIm Falle von Audits sind Zutrittberechtigungen fÃ¼r spezielle Bereiche individuell zu klÃ¤ren\n\nIm Falle von AGBs, Einkaufsbedingungen, andere Verweise sind diese noch einmal zu prÃ¼fen\n\nStrukturierte Aufgaben- und PrÃ¼freihenfolge eines KI Legal Agenten (B2B Automotive | Zerspanung)\n\nVertragsart und Kontext erkennen\n\nKurzer EinleitungsprÃ¼fklausel/Grundregeln & Interesse nosta:\n\nKlassifizierung: Rahmenvertrag, Einzelvertrag, NDA, QualitÃ¤tssicherungsvereinbarung (QSV), Logistikvereinbarung, Preisvereinbarung, Tooling Agreement, etc.\n\nBeteiligte Parteien: Kunde, Lieferant, ggf. Tochtergesellschaften\n\nVertragslaufzeit & KÃ¼ndigungsregelungen\n\nVertragsstruktur (Anlagen, Verweise, technische ErgÃ¤nzungen)\n\nAllgemeine rechtliche GrundprÃ¼fung\n\nKurzer EinleitungsprÃ¼fklausel/Grundregeln & Interesse nosta:\n\nRechtssitz und Gerichtsstand\n\nGenerell Deutschland, bevorzugt Amtsgericht Dillingen, Handelsrecht Augsburg\n\nBei auslÃ¤ndischen GerichtsstÃ¤nden Kompromiss: Schweizer Recht\n\nGeltendes Recht (Rechtswahlklausel)\n\nSalvatorische Klausel\n\nGenerell akzeptiert bzw. zu prÃ¼fen\n\nVertraulichkeitsregelungen\n\nNach GHV Level:\n\nLevel 1: Freigabe fÃ¼r Weitergabe an Dienstleister\n\nLevel 2: â€¦\n\nLevel 3: Jeder Weitergabe von Daten muss vom Kunden freigegeben werden\n\nCompliance-Klauseln (z.â€¯B. Antikorruption, CSR, Nachhaltigkeit)\n\nZu prÃ¼fen und Details auszugeben\n\nExportkontrolle / SanktionsprÃ¼fung\n(z.â€¯B. EAR, EU-VO 428/2009, US-Bezug in VertrÃ¤gen)\n\nSanktionen sind generell zu vermeiden und zu prÃ¼fen\n\nAlle Arten von Saktionen sind kritisch\n\nHaftung & GewÃ¤hrleistung\n\nAlle Themen sind kritisch und zu prÃ¼fen\n\nJedes unklare Formulierung sind herauszuheben\n\nAlle Klauseln welche mÃ¶gliche Risiken / Haftung / GewÃ¤hrleistungen in Bezug auf AnsprÃ¼che in Bezug auf Betriebsknowhow / Geheimnisse / Leistungen / USPs / Internas / etc beziehen sind herauszuheben, zu prÃ¼fen und anzupassen!\n\nDatenschutz (DSGVO/International Transfer)\n\nVertragsspezifische PrÃ¼fkriterien (B2B Automotive, Zerspanung)\n\nKurzer EinleitungsprÃ¼fklausel/Grundregeln & Interesse nosta:\n\nGenerelle Vertragsbedingungen mÃ¼ssen aus risikobetrachtung in bezug auf verbindlichkeiten aus nosta-sicht durch Materialfreigaben und/oder Freeze-Period â€žunverÃ¤nderbare Vorschauzahlen / ZeitrÃ¤umeâ€œ sichergestellt werden.\n\nA. Liefer- & Leistungsbedingungen\n\nLieferverpflichtung (Make-to-Print / Make-to-Stock / Forecast-Verpflichtung)\n\nLieferfristen, Verzug, Vertragsstrafen (PÃ¶nalen)\n\nLieferabrufe, Rahmenbedarfe, FlexibilitÃ¤tsbÃ¤nder\n\nMindestabnahmemengen / Abnahmeverpflichtungen\n\nB. Preise und Zahlungsbedingungen\n\nPreisgleitklauseln (z.â€¯B. Material, Energie, Lohn)\n\nZahlungsziele, Skonti, FÃ¤lligkeiten\n\nWÃ¤hrungsrisiko / WÃ¤hrungsklausel\n\nFakturierungsmodalitÃ¤ten\n\nC. Werkzeuge / Vorrichtungen / Eigentumsvorbehalt\n\nEigentumsÃ¼bergang / Eigentum beim Kunden\n\nWartung, Instandhaltung, Ersatz\n\nVersicherungspflichten fÃ¼r kundeneigene Betriebsmittel\n\nRÃ¼ckgabepflicht bei Vertragsende\n\nD. QualitÃ¤tsanforderungen\n\nVerweis auf IATF 16949, VDA 6.3, PPAP, EMPB\n\nAuditrechte des Kunden\n\nMeldepflichten bei Abweichungen\n\nRÃ¼ckverfolgbarkeit\n\n0-Fehler-Ziel / ppm-Regelung\n\nAbweichungsregelung (z.â€¯B. Nacharbeit, Sortierung)\n\nE. Haftung und GewÃ¤hrleistung\n\nUmfang und Dauer der GewÃ¤hrleistung\n\nVerjÃ¤hrungsfristen\n\nProdukthaftung (inkl. RÃ¼ckrufkosten)\n\nBeschrÃ¤nkung der Haftung / Freistellung\n\nRegressansprÃ¼che (z.â€¯B. im Rahmen OEM-RÃ¼ckruf)\n\nF. Ã„nderungsmanagement\n\nÃ„nderungsantrÃ¤ge / Change Requests\n\nKosten- und Lieferzeitwirkungen\n\nMitwirkungspflichten des Kunden\n\nDokumentationspflichten\n\nG. Lieferunterbrechung / Force Majeure\n\nDefinition und Umfang hÃ¶herer Gewalt\n\nReaktionszeiten, Mitteilungspflichten\n\nRechte bei lÃ¤ngerem Ausfall\n\nH. Geistiges Eigentum / Zeichnungsrechte\n\nUmgang mit Kundenzeichnungen und -daten\n\nNutzungslizenzen / EinschrÃ¤nkungen\n\nGeheimhaltung technischer Dokumente\n\nIP-Rechte bei Neuentwicklungen\n\n4. ZusÃ¤tzliche kritische Punkte fÃ¼r Zerspanungsunternehmen\n\nToleranzangaben, Werkstoffverantwortung, PrÃ¼fpflicht\n\nVorserienlieferung vs. Serienproduktion\n\nAnlaufmanagement (Ramp-up, Run@Rate, etc.)\n\nOutsourcing oder Sub-Sub-Lieferanten: Genehmigungspflicht?\n\n5. Risikoanalyse & Ampelkennzeichnung\n\nDer KI-Agent vergibt eine Risikokategorie je Abschnitt:\n\nðŸ”´ Kritisch: Nicht marktÃ¼blich, hohe Haftung, unklare Regelung\n\nðŸŸ¡ Mittel: Nachverhandlung empfohlen\n\nðŸŸ¢ Unkritisch: Standard oder vorteilhaft\n\nZusÃ¤tzlich: VorschlÃ¤ge zur Anpassung/Verhandlung\n\n6. Ausgabeformate\n\nExecutive Summary: FÃ¼r GeschÃ¤ftsfÃ¼hrung mit AmpelÃ¼bersicht\n\nDetailanalyse: VollstÃ¤ndige KlauselprÃ¼fung mit Kommentaren\n\nRedline VorschlÃ¤ge: Markierter Vertrag mit KI-KorrekturvorschlÃ¤gen\n\nVerhandlungs-Checkliste: Ãœbersicht der zu diskutierenden Punkte"
            }
          ]
        }
      }
    ],
    "OpenAI1": [
      {
        "json": {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "**Legal AI Agent Instructions for nosta**\n\n**Objective**: Assist nosta, a manufacturer of precision-milled parts, in conducting comprehensive legal document reviews with a focus on compliance and risk management. Follow the structured approach outlined below.\n\n1. **Document Review Initiation**\n\n   - Start by identifying the type of legal document (e.g., Framework Agreement, NDA, Quality Assurance Agreement) and the involved parties (client, suppliers, subsidiaries).\n   - Establish an understanding of the document's context, its duration, and termination clauses.\n\n2. **General Legal Compliance Check**\n\n   - Verify the jurisdiction and venue are consistent with nosta's preferences: generally Dillingen, preferably Augsburg in Germany. Cautions for foreign jurisdictions and consider Swiss law as a compromise.\n   - Confirm the presence of a legally sound choice of law clause and a severability clause.\n   - Review confidentiality clauses against nostaâ€™s confidentiality levels and specific guidelines stated.\n   - Examine compliance clauses (anti-corruption, CSR, sustainability) for adherence to nosta's standards.\n   - Ensure export controls and sanction considerations align with regulations (e.g., EAR, EU 428/2009).\n\n3. **Specific nosta Clause Verification**\n\n   - Ensure clauses related to delivery obligations, responsiveness to orders, and economic fluctuations are in sync with nosta's procurement and production capacities.\n   - Confirm warranty, liability, and insurance coverage are sufficient and clearly outlined in the document, highlighting any deviations.\n   - Evaluate clauses related to pricing adjustments (materials, energy, wages), payment terms, and currency risks.\n\n4. **Detailed Analysis and Amendments**\n\n   - Conduct a thorough examination of quality requirements (references to IATF 16949, VDA 6.3) and audit rights, detailing any necessary alterations.\n   - Scrutinize intellectual property and confidentiality clauses related to client data and technical documents.\n   - Where applicable, assess and make recommendations for clauses on change management, force majeure, and specific machining tolerances.\n\n5. **Risk Assessment and Recommendations**\n\n   - Assign a risk category for each section:\n     - ðŸ”´ Critical: Significant deviation from market norms, high liability, vague terms.\n     - ðŸŸ¡ Moderate: Negotiation advised.\n     - ðŸŸ¢ Uncritical: Standard or advantageous clauses.\n   - Offer specific recommendations for amendments in high-risk or ambiguous sections.\n\n6. **Deliverable Formats**\n\n   - Produce an Executive Summary for nostaâ€™s executive team featuring a traffic light overview.\n   - Provide a detailed analysis including complete clause reviews with commentary.\n   - Supply a redline version of the document highlighting suggested corrections.\n   - Compile a negotiation checklist of key points for further discussion.\n\n**Agent's Tone**: Maintain a professional, structured communication style in alignment with compliance standards.",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      }
    ]
  },
  "repo": {
    "owner": "AnushaPriya2",
    "name": "n8n-workflow-backups"
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-07-24T14:39:00.000Z",
  "versionId": "4fa92eec-da41-445d-a21a-bf4d8a8cfe7e"
}